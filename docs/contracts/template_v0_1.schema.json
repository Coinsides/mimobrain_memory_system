{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "template_v0_1.schema.json",
  "title": "SchemaTemplate v0.1",
  "type": "object",
  "additionalProperties": false,
  "required": ["name", "version", "defaults"],
  "properties": {
    "name": {"type": "string", "minLength": 1},
    "version": {"type": "string", "minLength": 1},
    "description": {"type": "string"},
    "defaults": {
      "type": "object",
      "additionalProperties": false,
      "required": ["scope_days", "granularity", "budget"],
      "properties": {
        "scope_days": {"type": "integer", "minimum": 1, "maximum": 3650},
        "granularity": {
          "type": "object",
          "additionalProperties": false,
          "required": ["detail_level", "time_resolution", "evidence_depth"],
          "properties": {
            "detail_level": {"type": "string", "enum": ["overview", "normal", "detailed", "forensic"]},
            "time_resolution": {"type": "string", "enum": ["week", "day", "session", "event"]},
            "evidence_depth": {"type": "string", "enum": ["mu_ids", "mu_snippets"]}
          }
        },
        "budget": {
          "type": "object",
          "additionalProperties": false,
          "required": ["max_mu", "max_tokens"],
          "properties": {
            "max_mu": {"type": "integer", "minimum": 1, "maximum": 500},
            "max_tokens": {"type": "integer", "minimum": 1, "maximum": 200000}
          }
        }
      }
    }
  }
}
